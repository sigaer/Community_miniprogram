<view class="data-v-4748afe6"><view class="main data-v-4748afe6"><scroll-view style="{{'height:'+(style.contentH+25+'px')+';'}}" id="scrollview" scroll-y="{{true}}" scroll-top="{{scrollTop}}" scroll-with-animation="{{true}}" class="data-v-4748afe6"><block wx:for="{{$root.l0}}" wx:for-item="e" wx:for-index="index" wx:key="index"><view class="chat-item data-v-4748afe6"><block wx:if="{{e.$orig.sender!=openid&&e.$orig.sender!='system'}}"><view class="left msg data-v-4748afe6"><image class="avatar data-v-4748afe6" src="{{e.$orig.avatar}}"></image><view data-event-opts="{{[['tap',[['playRecord',['$0'],[[['chatlist','',index]]]]]]]}}" class="nr data-v-4748afe6" bindtap="__e"><view class="newmsg data-v-4748afe6"><block wx:if="{{e.$orig.type==='image'}}"><image style="max-height:150rpx;" src="{{e.$orig.newmsg}}" mode="aspectFill" class="_img data-v-4748afe6"></image></block><block wx:else><block wx:if="{{e.$orig.type==='video'}}"><video src="{{e.$orig.newmsg}}" class="data-v-4748afe6"></video></block><block wx:else><block wx:if="{{e.$orig.type=='message'}}"><rich-text nodes="{{e.m0}}" class="data-v-4748afe6"></rich-text></block><block wx:else><block wx:if="{{e.$orig.type=='record'}}"><text data-event-opts="{{[['longpress',[['recordToText',['$0'],[[['chatlist','',index]]]]]]]}}" bindlongpress="__e" class="data-v-4748afe6">{{e.$orig.newmsg+'" '}}</text></block></block></block></block><block wx:if="{{e.$orig.type=='record'}}"><image style="width:28rpx;height:28rpx;" src="{{e.m1}}" mode="aspectFit" class="_img data-v-4748afe6"></image></block></view><view class="nt data-v-4748afe6">{{e.$orig.username+" "+e.m2}}</view></view></view></block><block wx:else><block wx:if="{{e.$orig.sender==openid}}"><view class="right msg data-v-4748afe6"><image class="avatar data-v-4748afe6" src="{{e.$orig.avatar}}"></image><view class="nr data-v-4748afe6"><view data-event-opts="{{[['tap',[['playRecord',['$0'],[[['chatlist','',index]]]]]],['touchstart',[['touchstart',['$event']]]],['touchend',[['touchend',['$event']]]],['longpress',[['recordToText',[index]]]]]}}" class="newmsg data-v-4748afe6" bindtap="__e" bindtouchstart="__e" bindtouchend="__e" bindlongpress="__e"><block wx:if="{{e.$orig.type==='image'}}"><image style="max-height:150rpx;" src="{{e.$orig.newmsg}}" mode="aspectFill" data-event-opts="{{[['tap',[['previewImage',['$0'],[[['chatlist','',index,'newmsg']]]]]]]}}" bindtap="__e" class="_img data-v-4748afe6"></image></block><block wx:if="{{e.$orig.type==='video'}}"><video src="{{e.$orig.newmsg}}" autoplay="{{true}}" controls="{{true}}" class="data-v-4748afe6"></video></block><block wx:if="{{e.$orig.type=='message'}}"><rich-text nodes="{{e.m3}}" class="data-v-4748afe6"></rich-text></block><block wx:if="{{e.$orig.type=='record'}}"><text style="padding-right:0.2rem;" class="data-v-4748afe6">{{e.$orig.newmsg+'"'}}</text></block><block wx:if="{{e.$orig.type=='record'}}"><image style="width:28rpx;height:28rpx;" src="{{e.m4}}" mode="aspectFit" class="_img data-v-4748afe6"></image></block></view><view class="nt data-v-4748afe6">{{e.$orig.username+" "+e.m5}}</view><block wx:if="{{e.$orig.type==='record'&&e.$orig.showMenu}}"><view class="transferView data-v-4748afe6"><block wx:if="{{e.$orig.transferText===undefined}}"><zero-loading vue-id="{{'bc646440-1-'+index}}" type="pulse" position="absolute" class="data-v-4748afe6" bind:__l="__l"></zero-loading></block><block wx:else><text class="data-v-4748afe6">{{e.$orig.transferText}}</text></block></view></block></view><block wx:if="{{e.$orig.err}}"><image style="width:48rpx;height:48rpx;align-self:center;margin-right:10rpx;" src="/static/warning.png" data-event-opts="{{[['tap',[['resendMsg',['$0'],[[['chatlist','',index]]]]]]]}}" bindtap="__e" class="data-v-4748afe6"></image></block></view></block><block wx:else><view class="center data-v-4748afe6"><view class="inner data-v-4748afe6">{{e.$orig.name}}</view></view></block></block></view></block></scroll-view></view><view class="send data-v-4748afe6"><image style="margin-left:16rpx;" src="{{imgPath}}" mode="aspectFit" data-event-opts="{{[['tap',[['changeMode',['$event']]]]]}}" bindtap="__e" class="data-v-4748afe6"></image><block wx:if="{{inputMode=='text'}}"><textarea class="chat-send data-v-4748afe6" style="text-align:left;" type="text" confirm-type="send" auto-height="true" show-confirm-bar="false" maxlength="-1" data-event-opts="{{[['input',[['__set_model',['','newmsg','$event',[]]]]]]}}" value="{{newmsg}}" bindinput="__e"></textarea></block><block wx:else><view data-event-opts="{{[['longpress',[['recordMsg',['$event']]]],['touchend',[['sendRecordMsg',['$event']]]]]}}" class="{{['data-v-4748afe6',chatStyle]}}" bindlongpress="__e" bindtouchend="__e">按住 说话</view></block><image style="margin-right:16rpx;" src="/static/default/image.png" mode="aspectFit" data-event-opts="{{[['tap',[['chooseMedia',['$event']]]]]}}" bindtap="__e" class="data-v-4748afe6"></image><image style="margin-right:16rpx;" src="/static/default/smile.png" mode="aspectFit" data-event-opts="{{[['tap',[['toggleShow',['$event']]]]]}}" bindtap="__e" class="data-v-4748afe6"></image><image style="margin-right:16rpx;" src="../../static/send.png" mode="aspectFit" data-event-opts="{{[['tap',[['sendMsg',['$event']]]]]}}" bindtap="__e" class="data-v-4748afe6"></image><block wx:if="{{isShow}}"><view class="emoji-panel data-v-4748afe6"><block wx:for="{{expressions}}" wx:for-item="item" wx:for-index="i" wx:key="i"><image src="{{baseUrl+item.url}}" alt="{{item.title}}" title="{{item.title}}" data-event-opts="{{[['tap',[['pickerEmoji',['$0'],[[['expressions','',i]]]]]]]}}" catchtap="__e" class="data-v-4748afe6"></image></block></view></block></view><view data-event-opts="{{[['tap',[['outotoChat',['$event']]]]]}}" class="bg data-v-4748afe6" style="{{'display:'+(bg)+';'}}" bindtap="__e"></view></view>